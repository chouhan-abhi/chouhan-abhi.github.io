"use strict";(self.webpackChunkportfolio=self.webpackChunkportfolio||[]).push([[810],{810:(e,t,r)=>{r.r(t),r.d(t,{default:()=>c});var l=r(555),i=r(43),n=(r(50),r(579));const c=()=>{const[e,t]=(0,i.useState)([]),[r,c]=(0,i.useState)(null),[s,o]=(0,i.useState)(null),[u,g]=(0,i.useState)("rectangle"),[a,y]=(0,i.useState)("");(0,i.useEffect)(()=>{const e=localStorage.getItem("svg-shapes");e&&t(JSON.parse(e))},[]),(0,i.useEffect)(()=>{localStorage.setItem("svg-shapes",JSON.stringify(e))},[e]);const x=(e,t)=>{t.stopPropagation(),o(e)};return(0,n.jsxs)("div",{className:"app-container",children:[(0,n.jsx)("h3",{children:"SVG Editor"}),(0,n.jsxs)("div",{style:{marginBottom:10},children:[(0,n.jsx)("button",{onClick:()=>g("rectangle"),children:"Rectangle"}),(0,n.jsx)("button",{onClick:()=>g("circle"),children:"Circle"}),(0,n.jsx)("button",{onClick:()=>g("line"),children:"Line"}),(0,n.jsx)("button",{onClick:()=>{const e=document.getElementById("svg-canvas"),t=(new XMLSerializer).serializeToString(e),r=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),l=URL.createObjectURL(r),i=document.createElement("a");i.href=l,i.download="drawing.svg",i.click()},children:"Export SVG"}),(0,n.jsx)("input",{type:"file",accept:"image/svg+xml",onChange:e=>{const r=e.target.files[0];if(!r)return;const l=new FileReader;l.onload=e=>{const r=(new DOMParser).parseFromString(e.target.result,"image/svg+xml"),l=[],i=r.querySelector("svg"),n=i.getAttribute("viewBox"),[c,s,o,u]=n?n.split(" ").map(Number):[0,0,i.clientWidth,i.clientHeight],g=(e,t)=>({x:800*(e-c)/o,y:600*(t-s)/u});i.querySelectorAll("rect").forEach(e=>{const{x:t,y:r}=g(Number(e.getAttribute("x")),Number(e.getAttribute("y")));l.push({type:"rectangle",x:t,y:r,width:800*Number(e.getAttribute("width"))/o,height:600*Number(e.getAttribute("height"))/u})}),i.querySelectorAll("circle").forEach(e=>{const{x:t,y:r}=g(Number(e.getAttribute("cx")),Number(e.getAttribute("cy")));l.push({type:"circle",cx:t,cy:r,r:800*Number(e.getAttribute("r"))/o})}),i.querySelectorAll("line").forEach(e=>{const{x:t,y:r}=g(Number(e.getAttribute("x1")),Number(e.getAttribute("y1"))),{x:i,y:n}=g(Number(e.getAttribute("x2")),Number(e.getAttribute("y2")));l.push({type:"line",x1:t,y1:r,x2:i,y2:n})}),t(l),y("")},l.onerror=()=>{y("Failed to read the file. Please ensure it is a valid SVG file.")},l.readAsText(r)}}),(0,n.jsx)("button",{onClick:()=>{e.length>0&&t(e.slice(0,-1))},children:"Undo"}),(0,n.jsx)("button",{onClick:()=>{},children:"Redo"})]}),a&&(0,n.jsx)("div",{style:{color:"red"},children:a}),(0,n.jsxs)("svg",{id:"svg-canvas",width:"800",height:"600",style:{border:"1px solid black"},onMouseDown:e=>{const t=e.target.closest("svg").getBoundingClientRect(),r=e.clientX-t.left,l=e.clientY-t.top;"rectangle"===u?c({type:"rectangle",x:r,y:l,width:0,height:0}):"circle"===u?c({type:"circle",cx:r,cy:l,r:0}):"line"===u&&c({type:"line",x1:r,y1:l,x2:r,y2:l})},onMouseMove:i=>{(e=>{if(!r)return;const t=e.target.closest("svg").getBoundingClientRect(),i=e.clientX-t.left,n=e.clientY-t.top;if("rectangle"===r.type)c((0,l.A)((0,l.A)({},r),{},{width:i-r.x,height:n-r.y}));else if("circle"===r.type){const e=i-r.cx,t=n-r.cy;c((0,l.A)((0,l.A)({},r),{},{r:Math.sqrt(e*e+t*t)}))}else"line"===r.type&&c((0,l.A)((0,l.A)({},r),{},{x2:i,y2:n}))})(i),(r=>{if(null===s)return;const i=r.target.closest("svg").getBoundingClientRect(),n=r.clientX-i.left,c=r.clientY-i.top,o=e.map((e,t)=>t===s?(0,l.A)((0,l.A)({},e),{},{x:n,y:c}):e);t(o)})(i)},onMouseUp:()=>{r&&(t([...e,r]),c(null)),o(null)},children:[e.map((e,t)=>"rectangle"===e.type?(0,n.jsx)("rect",{x:e.x,y:e.y,width:e.width,height:e.height,fill:"rgba(0, 0, 255, 0.3)",stroke:"blue",onMouseDown:e=>x(t,e)},t):"circle"===e.type?(0,n.jsx)("circle",{cx:e.cx,cy:e.cy,r:e.r,fill:"rgba(0, 0, 255, 0.3)",stroke:"blue",onMouseDown:e=>x(t,e)},t):"line"===e.type?(0,n.jsx)("line",{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,stroke:"blue",onMouseDown:e=>x(t,e)},t):null),r&&("rectangle"===r.type?(0,n.jsx)("rect",{x:r.x,y:r.y,width:r.width,height:r.height,fill:"rgba(0, 255, 0, 0.3)",stroke:"green"}):"circle"===r.type?(0,n.jsx)("circle",{cx:r.cx,cy:r.cy,r:r.r,fill:"rgba(0, 255, 0, 0.3)",stroke:"green"}):"line"===r.type?(0,n.jsx)("line",{x1:r.x1,y1:r.y1,x2:r.x2,y2:r.y2,stroke:"green"}):null)]})]})}}}]);
//# sourceMappingURL=810.1680ce15.chunk.js.map